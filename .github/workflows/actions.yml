name: hello-world-actions

on: 
 push:
   branches:
     - "lab"
     - "staging"
     - "production"
 pull_request:
   branches:
     - "lab"
     - "staging"
     - "production"

env:
  GITHUB_PR_NUMBER: ${{github.event.pull_request.number}}
  GITHUB_EVENT_NAME: ${{github.event_name }}
  GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  GITHUB_SHA: ${{ github.sha }}
  GITHUB_HEAD_SHA: ${{ github.event.pull_request.head.sha }}
  
jobs: 
   notify-local-machine-jenkins-run:
     runs-on: [self-hosted, macOS, X64]
     steps:
      - run: |
         if [[ $GITHUB_EVENT_NAME = "push" ]]; then
            echo "COMMIT_SHA=$(echo $GITHUB_SHA)" >> $GITHUB_ENV
         else            
            echo "COMMIT_SHA=$(echo $GITHUB_HEAD_SHA)" >> $GITHUB_ENV
         fi
         echo "hello world"
         echo ${COMMIT_SHA}
